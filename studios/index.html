<!DOCTYPE html>
<html lang="en">
<head>
  <!-- ==========================================
     SS FILMS • STUDENTSTREAM HQ v500
     Netflix-Style Upgrade + Supabase Connected
     Manual Monetization Club Active
     Admin Panel Enabled
  =========================================== -->

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>SS Films • StudentStream HQ</title>

  <!-- Supabase -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

  <style>
    :root {
      --bg: #05060c;
      --panel: rgba(255,255,255,0.05);
      --text: #f5f7ff;
      --muted: rgba(255,255,255,0.55);
      --accent: #2f8cff;
      --radius: 22px;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: system-ui, sans-serif;
    }

    body {
      background: var(--bg);
      color: var(--text);
    }

    /* HEADER */
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 18px 22px;
      position: fixed;
      width: 100%;
      top: 0;
      z-index: 50;
      background: rgba(0,0,0,0.55);
      backdrop-filter: blur(18px);
    }

    .brand {
      font-weight: 900;
      font-size: 18px;
      color: var(--accent);
    }

    .brand span {
      color: white;
      font-weight: 600;
      opacity: 0.7;
      margin-left: 6px;
      font-size: 14px;
    }

    .nav-btns {
      display: flex;
      gap: 10px;
    }

    .btn {
      padding: 10px 16px;
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.18);
      background: transparent;
      color: white;
      font-weight: 700;
      cursor: pointer;
      transition: 0.2s;
    }

    .btn:hover {
      background: rgba(255,255,255,0.08);
    }

    /* HERO */
    .hero {
      margin-top: 85px;
      padding: 50px 22px;
      min-height: 70vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      background:
        linear-gradient(to top, rgba(0,0,0,0.95), transparent),
        url("https://images.unsplash.com/photo-1524985069026-dd778a71c7b4?auto=format&fit=crop&w=1400&q=80");
      background-size: cover;
      background-position: center;
    }

    .hero h1 {
      font-size: 52px;
      font-weight: 1000;
      max-width: 520px;
      line-height: 1.05;
    }

    .hero p {
      margin-top: 15px;
      font-size: 17px;
      max-width: 500px;
      color: var(--muted);
      line-height: 1.6;
    }

    .hero button {
      margin-top: 22px;
      width: 160px;
      padding: 14px;
      border-radius: 999px;
      border: none;
      font-weight: 900;
      cursor: pointer;
      background: var(--accent);
      color: white;
      font-size: 15px;
    }

    /* SECTIONS */
    section {
      padding: 35px 22px;
    }

    section h2 {
      font-size: 20px;
      font-weight: 900;
      margin-bottom: 18px;
    }

    .row {
      display: flex;
      gap: 14px;
      overflow-x: auto;
      padding-bottom: 10px;
    }

    .card {
      min-width: 180px;
      height: 110px;
      border-radius: var(--radius);
      background: var(--panel);
      border: 1px solid rgba(255,255,255,0.08);
      display: flex;
      flex-direction: column;
      justify-content: center;
      padding: 14px;
      cursor: pointer;
      transition: 0.25s;
    }

    .card:hover {
      transform: scale(1.05);
      border-color: rgba(47,140,255,0.6);
    }

    .card h3 {
      font-size: 15px;
      font-weight: 800;
    }

    .card p {
      font-size: 13px;
      color: var(--muted);
      margin-top: 6px;
    }

    footer {
      text-align: center;
      padding: 35px;
      color: rgba(255,255,255,0.35);
      font-size: 13px;
    }
  </style>
</head>

<body>

<header>
  <div class="brand">
    SS Films <span>by StudentStream</span>
  </div>

  <div class="nav-btns">
    <button class="btn" id="adminBtn" style="display:none;">Admin</button>
    <button class="btn" id="clubBtn" style="display:none;">Monetization Club</button>
    <button class="btn" id="logoutBtn" style="display:none;">Logout</button>
    <button class="btn" id="loginBtn">Login</button>
  </div>
</header>

<!-- HERO -->
<div class="hero">
  <h1>Original films. Real creators.</h1>
  <p>
    StudentStream’s official production & film division.
    Creators earn through ads + Monetization Club payouts.
  </p>

  <button onclick="scrollToTrending()">Browse</button>
</div>

<!-- TRENDING -->
<section id="trending">
  <h2>Trending</h2>
  <div class="row" id="trendingRow"></div>
</section>

<!-- LATEST -->
<section>
  <h2>Latest Releases</h2>
  <div class="row" id="latestRow"></div>
</section>

<footer>
  © 2026 StudentStream HQ • SS Films Division • Manual Monetization Active
</footer>

<script>
/* ============================================
   SUPABASE CONFIG
============================================ */
const SUPABASE_URL = "https://iabzmoxzbqzcqgypxctr.supabase.co";
const SUPABASE_ANON_KEY =
"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlhYnptb3h6YnF6Y3FneXB4Y3RyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcxMDgzNzAsImV4cCI6MjA4MjY4NDM3MH0.mHke56jh8WSlzzQxa7o2PIxqLRk1eyPRZerJ3avuGkQ";

const supabase = window.supabase.createClient(
  SUPABASE_URL,
  SUPABASE_ANON_KEY
);

/* ============================================
   SESSION + ROLE DETECTION
============================================ */
async function checkUser() {
  const { data } = await supabase.auth.getSession();

  if (!data.session) return;

  const user = data.session.user;

  document.getElementById("loginBtn").style.display = "none";
  document.getElementById("logoutBtn").style.display = "block";
  document.getElementById("clubBtn").style.display = "block";

  // ADMIN CHECK (email-based for now)
  if (user.email === "deondrechambers284@gmail.com") {
    document.getElementById("adminBtn").style.display = "block";
  }
}

checkUser();

/* ============================================
   NAV BUTTONS
============================================ */
document.getElementById("loginBtn").onclick = () => {
  window.location.href = "/studios/login.html";
};

document.getElementById("logoutBtn").onclick = async () => {
  await supabase.auth.signOut();
  location.reload();
};

document.getElementById("adminBtn").onclick = () => {
  window.location.href = "/studios/admin.html";
};

document.getElementById("clubBtn").onclick = () => {
  window.location.href = "/studios/monetization-club.html";
};

/* ============================================
   LOAD FILMS FROM SUPABASE
   Tables Needed:
   - films(title, category, created_at)
============================================ */
async function loadFilms() {
  const { data: films } = await supabase
    .from("films")
    .select("*")
    .order("created_at", { ascending: false });

  if (!films) return;

  let trending = films.slice(0, 5);
  let latest = films.slice(0, 5);

  trending.forEach(film => {
    document.getElementById("trendingRow").innerHTML += `
      <div class="card">
        <h3>${film.title}</h3>
        <p>${film.category}</p>
      </div>
    `;
  });

  latest.forEach(film => {
    document.getElementById("latestRow").innerHTML += `
      <div class="card">
        <h3>${film.title}</h3>
        <p>${film.category}</p>
      </div>
    `;
  });
}

loadFilms();

/* ============================================
   SCROLL
============================================ */
function scrollToTrending() {
  document.getElementById("trending").scrollIntoView({
    behavior: "smooth"
  });
}
</script>

</body>
</html>