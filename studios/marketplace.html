<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Marketplace | StudentStream Studios</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<meta name="description" content="Browse licensed creative work from filmmakers, designers, photographers, and artists on StudentStream Studios." />
<meta name="keywords" content="creative marketplace, license digital art, film assets, StudentStream Studios" />
<link rel="canonical" href="https://studentstream.online/studios/marketplace" />

<!-- SUPABASE -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<!-- SCHEMA -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "CollectionPage",
  "name": "StudentStream Studios Marketplace",
  "url": "https://studentstream.online/studios/marketplace",
  "publisher": {
    "@type": "Organization",
    "name": "StudentStream HQ",
    "url": "https://studentstream.online"
  }
}
</script>

<style>
*{box-sizing:border-box;font-family:Inter,system-ui,Arial,sans-serif}
body{
margin:0;
background:radial-gradient(circle at top,#0f1224,#050507);
color:#fff;
}
.container{
max-width:1300px;
margin:auto;
padding:80px 20px;
}
h1{
font-size:3.2rem;
margin-bottom:14px;
}
p{opacity:.8;max-width:850px}

.grid{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
gap:28px;
margin-top:50px;
}

.card{
background:rgba(255,255,255,.06);
border:1px solid rgba(255,255,255,.12);
border-radius:26px;
padding:30px;
transition:.3s;
box-shadow:0 0 50px rgba(0,0,0,.6);
}
.card:hover{
transform:translateY(-6px);
box-shadow:0 26px 80px rgba(0,0,0,.8);
}

.card h3{margin-top:0;font-size:1.4rem}
.card span{
display:inline-block;
margin-top:6px;
font-size:.8rem;
opacity:.65;
}

.price{
margin-top:14px;
font-weight:700;
font-size:1.1rem;
color:#6cf2c2;
}

.btn{
margin-top:18px;
display:inline-block;
padding:10px 22px;
border-radius:999px;
font-size:.85rem;
font-weight:600;
background:transparent;
border:1px solid rgba(255,255,255,.25);
color:#fff;
text-decoration:none;
}
.btn:hover{background:rgba(255,255,255,.08)}

.empty{
opacity:.6;
margin-top:40px;
}

.notice{
margin-top:70px;
font-size:.85rem;
opacity:.6;
max-width:800px;
}

.footer{
margin-top:90px;
opacity:.6;
font-size:.85rem;
display:flex;
flex-wrap:wrap;
gap:16px;
}
.footer a{color:#7aa2ff;text-decoration:none}
</style>
</head>

<body>
<div class="container">

<h1>Studios Marketplace</h1>
<p>
Browse curated creative work from StudentStream Studios creators.
All assets are approved, license-ready, and sold directly through StudentStream.
</p>

<div class="grid" id="marketGrid">
  <div class="empty">Loading marketplace…</div>
</div>

<div class="notice">
⚠️ Purchases and licensing are handled manually during early rollout.
To inquire about an asset, use the contact button — our team will respond directly.
</div>

<div class="footer">
  © 2026 StudentStream Studios
  <a href="https://www.instagram.com/studentstreamhq" target="_blank">Instagram</a>
  <a href="https://www.tiktok.com/@studentstreamhq" target="_blank">TikTok</a>
</div>

</div>

<script>
const supabase = supabaseJs.createClient(
  "https://iabzmoxzbqzcqgypxctr.supabase.co",
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlhYnptb3h6YnF6Y3FneXB4Y3RyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcxMDgzNzAsImV4cCI6MjA4MjY4NDM3MH0.mHke56jh8WSlzzQxa7o2PIxqLRk1eyPRZerJ3avuGkQ"
);

(async () => {
  const { data: listings } = await supabase
    .from("studio_listings")
    .select("*")
    .eq("approved", true)
    .order("created_at", { ascending: false });

  const grid = document.getElementById("marketGrid");

  if (!listings || listings.length === 0) {
    grid.innerHTML = `<div class="empty">No listings available yet.</div>`;
    return;
  }

  grid.innerHTML = listings.map(item => `
    <div class="card">
      <h3>${item.title}</h3>
      <span>${item.asset_type}</span>
      <div class="price">$${(item.price_cents / 100).toFixed(2)}</div>
      <a class="btn" href="mailto:studios@studentstream.online?subject=Marketplace Inquiry: ${encodeURIComponent(item.title)}">
        Inquire / License
      </a>
    </div>
  `).join("");
})();
</script>

</body>
</html>