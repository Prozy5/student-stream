<!DOCTYPE html>
<html>
<head>
<title>Case Database</title>
<script type="module">
import { supabase } from './supabase.js';

async function loadCases() {
  const { data } = await supabase.from("cases").select("*").order("created_at",{ascending:false});
  const list = document.getElementById("cases");
  list.innerHTML = "";
  data.forEach(c=>{
    const row = document.createElement("div");
    row.className="case";
    row.innerHTML = `
      <b>${c.title}</b>
      <span>${c.status}</span>
      <a href="case.html?id=${c.id}">OPEN</a>
    `;
    list.appendChild(row);
  });
}

window.onload = loadCases;
</script>

<style>
body{background:#070b12;color:#9cc3ff;font-family:arial}
.case{display:flex;justify-content:space-between;padding:12px;border-bottom:1px solid #1a2b45}
a{color:#4ea3ff}
</style>
</head>
<body>

<h1>STUDENTSTREAM â€“ CASE DATABASE</h1>
<div id="cases"></div>

</body>
</html>