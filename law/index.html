<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>StudentStream Law Division</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script type="module" src="/js/platform-guard.js"></script>

<style>
:root{
  --bg:#05080f;
  --panel:#0c1626;
  --panel2:#101f35;
  --accent:#ff5d5d;
  --accent2:#ff2f2f;
  --text:#eaf1ff;
  --muted:#9fb0cc;
  --border:rgba(255,255,255,0.08);
}

*{margin:0;padding:0;box-sizing:border-box}

body{
  font-family:system-ui;
  background:radial-gradient(circle at top,#0c1b33,#05080f 75%);
  color:var(--text);
}

/* NAV */
nav{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:18px 26px;
  background:rgba(10,20,40,.85);
  backdrop-filter:blur(14px);
  border-bottom:1px solid var(--border);
}

.brand{
  font-weight:950;
  font-size:16px;
  display:flex;
  align-items:center;
  gap:10px;
}

.nav-links a{
  margin-left:18px;
  color:var(--muted);
  text-decoration:none;
  font-size:14px;
  font-weight:650;
}

.nav-links a:hover{
  color:var(--text);
}

/* HERO */
.hero{
  max-width:1120px;
  margin:auto;
  padding:85px 22px 55px;
  text-align:center;
}

.hero h1{
  font-size:56px;
  font-weight:990;
}

.hero span{
  color:var(--accent);
}

.hero p{
  max-width:880px;
  margin:18px auto;
  color:var(--muted);
  font-size:15px;
  line-height:1.75;
}

/* OFFICIAL BANNER */
.govBanner{
  margin:28px auto 0;
  max-width:880px;
  padding:16px 18px;
  border-radius:16px;
  border:1px solid rgba(255,93,93,.25);
  background:rgba(255,93,93,.06);
  font-size:13.5px;
  color:var(--muted);
}

.govBanner strong{
  color:var(--accent);
}

/* CHIEF AUTHORITY */
.chiefHighlight{
  margin:35px auto 0;
  max-width:880px;
  padding:20px;
  border-radius:18px;
  border:1px solid rgba(255,93,93,.35);
  background:linear-gradient(
    135deg,
    rgba(255,93,93,.14),
    rgba(12,22,38,.92)
  );
  text-align:left;
}

.chiefHighlight h3{
  font-size:15px;
  font-weight:950;
}

.chiefHighlight p{
  margin-top:6px;
  font-size:13.5px;
  color:var(--muted);
  line-height:1.6;
}

.chiefBadge{
  display:inline-block;
  margin-top:10px;
  padding:6px 12px;
  border-radius:999px;
  font-size:12px;
  font-weight:950;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  color:#200000;
}

/* BUTTONS */
.hero-actions{
  margin-top:34px;
  display:flex;
  justify-content:center;
  gap:14px;
  flex-wrap:wrap;
}

.btn{
  padding:13px 22px;
  border-radius:14px;
  border:1px solid var(--border);
  background:var(--panel);
  color:var(--text);
  text-decoration:none;
  font-weight:850;
  transition:.2s;
}

.btn.primary{
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  border:none;
  color:#200000;
}

.btn:hover{
  transform:translateY(-2px);
  opacity:.92;
}

/* METRICS */
.metricsGrid{
  margin:45px auto 0;
  max-width:980px;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(230px,1fr));
  gap:14px;
}

.metricCard{
  padding:18px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.02);
  text-align:left;
}

.metricCard span{
  font-size:13px;
  color:var(--muted);
}

.metricCard h2{
  font-size:26px;
  font-weight:990;
  margin-top:6px;
}

/* NOTICE */
.notice{
  margin:45px auto 0;
  max-width:920px;
  padding:16px 18px;
  border-radius:16px;
  border:1px solid rgba(255,93,93,.35);
  background:rgba(255,93,93,.08);
  color:var(--muted);
  font-size:14px;
}

.notice strong{
  color:var(--accent);
}

/* STAFF PANEL */
.staffPanel{
  margin:30px auto 0;
  max-width:780px;
  padding:22px;
  border-radius:20px;
  border:1px solid rgba(255,93,93,.35);
  background:rgba(255,93,93,.07);
  display:none;
}

.staffPanel h3{
  font-size:17px;
  font-weight:990;
}

.staffPanel a{
  display:inline-block;
  margin-top:14px;
  padding:11px 16px;
  border-radius:14px;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  font-weight:950;
  color:#200000;
  text-decoration:none;
}

/* SECTION */
.section{
  max-width:1150px;
  margin:auto;
  padding:70px 22px;
}

.section h2{
  font-size:22px;
  font-weight:950;
  margin-bottom:18px;
}

.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:18px;
}

.card{
  background:rgba(12,22,38,.88);
  border:1px solid var(--border);
  border-radius:18px;
  padding:20px;
  transition:.2s;
}

.card:hover{
  transform:translateY(-4px);
  border-color:rgba(255,93,93,.35);
}

.card h3{
  font-size:16px;
  font-weight:900;
}

.card p{
  margin-top:8px;
  font-size:13.5px;
  color:var(--muted);
  line-height:1.55;
}

/* FOOTER */
footer{
  text-align:center;
  padding:40px;
  border-top:1px solid var(--border);
  margin-top:70px;
  font-size:13px;
  color:var(--muted);
}
</style>
</head>

<body>

<!-- NAV -->
<nav>
  <div class="brand">‚öñÔ∏è StudentStream Law Division</div>

  <div class="nav-links">
    <a href="../index.html">Home</a>
    <a href="report.html">Report</a>
    <a href="my-reports.html">My Reports</a>
    <a href="staff-transparency.html">Staff Registry</a>
    <a href="law-login.html">Staff Access</a>
  </div>
</nav>

<!-- HERO -->
<section class="hero">

  <h1>StudentStream <span>Law</span></h1>

  <p>
    The official enforcement and creator safety division of StudentStreamHQ.
    Abuse investigations, fraud prevention, evidence security, and platform integrity.
  </p>

  <div class="govBanner">
    <strong>Verified Enforcement System:</strong>
    Reports are reviewed internally and assigned to authorized investigators only.
  </div>

  <!-- CHIEF -->
  <div class="chiefHighlight">
    <h3>‚≠ê Chief Authority Oversight</h3>
    <p>
      All enforcement actions and internal investigations operate under the oversight of
      <strong>Chief Deondre</strong>, verified command authority of StudentStream Law Division.
    </p>
    <div class="chiefBadge">‚úî VERIFIED CHIEF ¬∑ StudentStreamHQ LAW</div>
  </div>

  <!-- ACTIONS -->
  <div class="hero-actions">
    <a href="report.html" class="btn primary">üö® Submit Report</a>
    <a href="my-reports.html" class="btn">üìå My Reports</a>
    <a href="rights.html" class="btn">üìú Creator Rights</a>
    <a href="appeals.html" class="btn">‚ö† Appeals</a>
  </div>

  <!-- METRICS -->
  <div class="metricsGrid">
    <div class="metricCard">
      <span>Total Reports Filed</span>
      <h2 id="metricReports">‚Äî</h2>
    </div>

    <div class="metricCard">
      <span>Cases Assigned</span>
      <h2 id="metricAssigned">‚Äî</h2>
    </div>

    <div class="metricCard">
      <span>Evidence Vault</span>
      <h2>ONLINE</h2>
    </div>
  </div>

  <!-- NOTICE -->
  <div class="notice">
    <strong>Restricted Tools:</strong>
    Internal dashboards are only accessible to verified enforcement ranks.
  </div>

  <!-- STAFF PANEL -->
  <div class="staffPanel" id="staffPanel">
    <h3>‚öñÔ∏è Enforcement Command Center</h3>
    You are verified staff. Access investigations below.
    <br>
    <a href="law-dashboard.html">Open Law Dashboard ‚Üí</a>
  </div>

</section>

<!-- RESPONSIBILITIES -->
<section class="section">
  <h2>Division Responsibilities</h2>

  <div class="grid">
    <div class="card">
      <h3>Fraud & Abuse Prevention</h3>
      <p>Scam enforcement, impersonation response, monetization fraud detection.</p>
    </div>

    <div class="card">
      <h3>Creator Safety Division</h3>
      <p>Harassment investigations, threat escalation, abuse protection.</p>
    </div>

    <div class="card">
      <h3>Evidence & Case Handling</h3>
      <p>Secure vault uploads, assignment-only documentation, internal tracking.</p>
    </div>

    <div class="card">
      <h3>Transparency Registry</h3>
      <p>Verified enforcement staff listings and accountability oversight.</p>
    </div>
  </div>
</section>

<footer>
  ¬© 2026 StudentStream Law Division ¬∑ StudentStreamHQ Enforcement & Creator Protection
</footer>

<!-- SUPABASE METRICS + STAFF DETECTOR -->
<script type="module">
import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";

const supabase = createClient(
  "https://iabzmoxzbqzcqgypxctr.supabase.co",
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlhYnptb3h6YnF6Y3FneXB4Y3RyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcxMDgzNzAsImV4cCI6MjA4MjY4NDM3MH0.mHke56jh8WSlzzQxa7o2PIxqLRk1eyPRZerJ3avuGkQ"
);

async function loadMetrics(){

  const { count:reports } = await supabase
    .from("law_cases")
    .select("*", { count:"exact", head:true });

  const { count:assigned } = await supabase
    .from("law_cases")
    .select("*", { count:"exact", head:true })
    .not("assigned_to", "is", null);

  document.getElementById("metricReports").textContent =
    reports ?? "0";

  document.getElementById("metricAssigned").textContent =
    assigned ?? "0";
}

async function detectStaff(){

  const { data:{user} } = await supabase.auth.getUser();
  if(!user) return;

  const { data:profile } = await supabase
    .from("profiles")
    .select("law_rank")
    .eq("id", user.id)
    .single();

  if(profile?.law_rank && profile.law_rank !== "none"){
    document.getElementById("staffPanel").style.display="block";
  }
}

loadMetrics();
detectStaff();
</script>

</body>
</html>