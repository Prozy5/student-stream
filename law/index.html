<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>StudentStream Law Division</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script type="module" src="/js/platform-guard.js"></script>

<style>
:root{
  --bg:#05080f;
  --panel:#0c1626;
  --panel2:#101f35;
  --accent:#ff5d5d;
  --accent2:#ff2f2f;
  --text:#eaf1ff;
  --muted:#9fb0cc;
  --border:rgba(255,255,255,0.08);
}

*{margin:0;padding:0;box-sizing:border-box}

body{
  font-family:system-ui;
  background:radial-gradient(circle at top,#0c1b33,#05080f 75%);
  color:var(--text);
}

/* NAV */
nav{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:18px 26px;
  background:rgba(10,20,40,.82);
  backdrop-filter:blur(14px);
  border-bottom:1px solid var(--border);
}

.brand{
  font-weight:950;
  font-size:16px;
  display:flex;
  align-items:center;
  gap:10px;
}

.nav-links a{
  margin-left:18px;
  color:var(--muted);
  text-decoration:none;
  font-size:14px;
  font-weight:650;
}

.nav-links a:hover{color:var(--text)}

/* HERO */
.hero{
  max-width:1100px;
  margin:auto;
  padding:85px 22px 55px;
  text-align:center;
}

.hero h1{
  font-size:55px;
  font-weight:990;
}

.hero span{color:var(--accent)}

.hero p{
  max-width:860px;
  margin:18px auto;
  color:var(--muted);
  font-size:15px;
  line-height:1.75;
}

/* OFFICIAL HEADER */
.govBanner{
  margin:30px auto 0;
  max-width:860px;
  padding:15px 18px;
  border-radius:16px;
  border:1px solid rgba(255,93,93,.25);
  background:rgba(255,93,93,.06);
  font-size:13.5px;
  color:var(--muted);
}

.govBanner strong{
  color:var(--accent);
}

/* ACTION BUTTONS */
.hero-actions{
  margin-top:32px;
  display:flex;
  justify-content:center;
  gap:14px;
  flex-wrap:wrap;
}

.btn{
  padding:13px 22px;
  border-radius:14px;
  border:1px solid var(--border);
  background:var(--panel);
  color:var(--text);
  text-decoration:none;
  font-weight:850;
  transition:.2s;
}

.btn.primary{
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  border:none;
  color:#200000;
}

.btn:hover{
  transform:translateY(-2px);
  opacity:.92;
}

/* SYSTEM STATUS */
.statusGrid{
  margin:45px auto 0;
  max-width:950px;
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
  gap:14px;
}

.statusCard{
  padding:18px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.02);
  text-align:left;
}

.statusCard h3{
  font-size:14px;
  font-weight:950;
}

.statusCard p{
  margin-top:6px;
  font-size:13px;
  color:var(--muted);
}

/* VERIFIED NOTICE */
.notice{
  margin:45px auto 0;
  max-width:920px;
  padding:16px 18px;
  border-radius:16px;
  border:1px solid rgba(255,93,93,.35);
  background:rgba(255,93,93,.08);
  color:var(--muted);
  font-size:14px;
}

.notice strong{color:var(--accent)}

/* STAFF BADGE */
.badge{
  margin:25px auto 0;
  max-width:520px;
  padding:14px;
  border-radius:16px;
  border:1px solid var(--border);
  background:rgba(255,255,255,.02);
  font-size:14px;
  color:var(--muted);
  display:none;
}

.badge span{
  font-weight:900;
  color:var(--accent);
}

/* STAFF PANEL */
.staffPanel{
  margin:30px auto 0;
  max-width:760px;
  padding:22px;
  border-radius:20px;
  border:1px solid rgba(255,93,93,.35);
  background:linear-gradient(
    135deg,
    rgba(255,93,93,.12),
    rgba(12,22,38,.92)
  );
  display:none;
}

.staffPanel h3{
  margin-bottom:10px;
  font-size:17px;
  font-weight:990;
}

.staffPanel a{
  display:inline-block;
  margin-top:14px;
  padding:11px 16px;
  border-radius:14px;
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  font-weight:950;
  color:#200000;
  text-decoration:none;
}

/* SECTION */
.section{
  max-width:1150px;
  margin:auto;
  padding:65px 22px;
}

.section h2{
  font-size:22px;
  font-weight:950;
  margin-bottom:18px;
}

/* GRID */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:18px;
}

.card{
  background:rgba(12,22,38,.88);
  border:1px solid var(--border);
  border-radius:18px;
  padding:20px;
  transition:.2s;
}

.card:hover{
  transform:translateY(-4px);
  border-color:rgba(255,93,93,.35);
}

.card h3{
  font-size:16px;
  font-weight:900;
  margin-bottom:8px;
}

.card p{
  font-size:13.5px;
  color:var(--muted);
  line-height:1.55;
}

/* FOOTER */
footer{
  text-align:center;
  padding:40px;
  border-top:1px solid var(--border);
  margin-top:70px;
  font-size:13px;
  color:var(--muted);
}
</style>
</head>

<body>

<!-- NAV -->
<nav>
  <div class="brand">‚öñÔ∏è StudentStream Law Division</div>

  <div class="nav-links">
    <a href="../index.html">Home</a>
    <a href="report.html">Report</a>
    <a href="my-reports.html">My Reports</a>
    <a href="staff-transparency.html">Staff Registry</a>
    <a href="law-login.html">Staff Access</a>
  </div>
</nav>

<!-- HERO -->
<section class="hero">
  <h1>StudentStream <span>Law</span></h1>

  <p>
    The official enforcement, safety, and creator protection division of StudentStreamHQ.
    We investigate abuse, prevent fraud, secure evidence, and uphold platform integrity.
  </p>

  <!-- OFFICIAL BANNER -->
  <div class="govBanner">
    <strong>Official Enforcement Division:</strong>
    StudentStream Law operates under verified authority ranks and internal oversight.
  </div>

  <!-- ACTIONS -->
  <div class="hero-actions">
    <a href="report.html" class="btn primary">üö® Submit Report</a>
    <a href="my-reports.html" class="btn">üìå My Reports</a>
    <a href="rights.html" class="btn">üìú Creator Rights</a>
    <a href="appeals.html" class="btn">‚ö† Appeals Portal</a>
  </div>

  <!-- SYSTEM STATUS -->
  <div class="statusGrid">
    <div class="statusCard">
      <h3>üìÅ Case System</h3>
      <p>Active enforcement investigations are tracked internally.</p>
    </div>

    <div class="statusCard">
      <h3>üìé Evidence Vault</h3>
      <p>Secure uploads enabled for assigned enforcement staff only.</p>
    </div>

    <div class="statusCard">
      <h3>üëÆ Staff Assignments</h3>
      <p>Reports are assigned to verified investigators before action begins.</p>
    </div>
  </div>

  <!-- VERIFIED NOTICE -->
  <div class="notice">
    <strong>Restricted Tools:</strong>
    Law staff dashboards are only accessible to verified enforcement ranks.
  </div>

  <!-- STAFF BADGE -->
  <div class="badge" id="staffBadge"></div>

  <!-- STAFF PANEL -->
  <div class="staffPanel" id="staffPanel">
    <h3>‚öñÔ∏è Enforcement Command Center</h3>
    You are verified law staff. Access internal case management below.
    <br>
    <a href="law-dashboard.html">Open Law Dashboard ‚Üí</a>
  </div>
</section>

<!-- RESPONSIBILITIES -->
<section class="section">
  <h2>Division Responsibilities</h2>

  <div class="grid">
    <div class="card">
      <h3>Copyright Protection</h3>
      <p>Ownership disputes, stolen content enforcement, takedown processing.</p>
    </div>

    <div class="card">
      <h3>Fraud & Impersonation</h3>
      <p>Scam detection, fake monetization schemes, identity abuse prevention.</p>
    </div>

    <div class="card">
      <h3>Creator Safety</h3>
      <p>Threat response, harassment investigations, coordinated abuse defense.</p>
    </div>

    <div class="card">
      <h3>Platform Enforcement</h3>
      <p>Warnings, restrictions, bans, verified policy-level action handling.</p>
    </div>

    <div class="card">
      <h3>Case Evidence Handling</h3>
      <p>Secure vault storage, documentation, internal investigation tracking.</p>
    </div>

    <div class="card">
      <h3>Transparency & Trust</h3>
      <p>Publishing enforcement registries and accountability updates.</p>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer>
  ¬© 2026 StudentStream Law Division ¬∑ StudentStreamHQ Digital Safety & Creator Protection
</footer>

<!-- STAFF DETECTOR -->
<script type="module">
import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";

const supabase = createClient(
  "https://iabzmoxzbqzcqgypxctr.supabase.co",
  "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlhYnptb3h6YnF6Y3FneXB4Y3RyIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjcxMDgzNzAsImV4cCI6MjA4MjY4NDM3MH0.mHke56jh8WSlzzQxa7o2PIxqLRk1eyPRZerJ3avuGkQ"
);

async function loadBadge(){
  const { data:{user} } = await supabase.auth.getUser();
  if(!user) return;

  const { data:profile } = await supabase
    .from("profiles")
    .select("username, law_rank")
    .eq("id", user.id)
    .single();

  if(profile?.law_rank && profile.law_rank !== "none"){

    document.getElementById("staffBadge").style.display="block";
    document.getElementById("staffBadge").innerHTML = `
      Logged in as <span>${profile.username}</span> ‚Äî
      Rank: <span>${profile.law_rank.toUpperCase()}</span>
    `;

    document.getElementById("staffPanel").style.display="block";
  }
}

loadBadge();
</script>

</body>
</html>